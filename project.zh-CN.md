# 轻量级人脸识别系统需求

## 背景
针对移动端与边缘计算场景，构建一个实时人脸识别系统。在算力与存储受限的前提下，需要兼顾识别准确率、推理时延与部署灵活性。

## 功能与性能目标
- 模型参数文件大小 ≤ 10 MB（FP32 基线，量化后更小）。
- 在 ARM64 CPU 上 112×112 输入的人脸裁剪推理时延 ≤ 50 ms。
- 支持批量特征提取、1:N 检索与 1:1 验证流程。
- 训练与推理流程均需保持 TorchScript/ONNX 友好，便于跨框架部署。

## 技术要求
1. 设计高效的骨干网络，平衡深度、宽度与计算复杂度（参考 MobileFaceNet/MobileNetV3）。
2. 使用合适的激活函数、归一化与优化策略（SiLU + AdamW + 余弦退火）以提升稳定性。
3. 引入模型压缩与加速手段：蒸馏、稀疏化、后量化（int8/FP16）。
4. 数据层面覆盖光照、遮挡、姿态等极端情况，提供增强策略。
5. 输出 128 维 L2 归一化特征，支持余弦相似度量。

## 工程约束
- 代码组织遵循 src/、scripts/、	ests/、configs/ 等目录约定。
- 训练配置通过 YAML 管理，允许在 CLI 中覆盖关键参数。
- 产出 ONNX 与量化后的部署文件，保存在 rtifacts/exports/。
- 编写覆盖率 ≥ 85% 的单元测试，覆盖模型、预处理与训练循环的关键路径。

## 里程碑
1. **MVP**：完成模型骨干、推理管线与基础训练脚本，提供小规模数据验证。
2. **性能调优**：引入蒸馏/量化策略，验证精度与延迟指标。
3. **部署集成**：打通导出、量化、推理 Benchmark，生成模型卡与部署脚本。